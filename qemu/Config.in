comment "System setup"

choice
	prompt "Loader"
	default QEMU_LOADER_KERNEL

config QEMU_LOADER_KERNEL
	bool "Kernel"

config QEMU_LOADER_UBOOT
	bool "U-Boot"

endchoice

choice
     prompt "Rootfs type"
     default QEMU_ROOTFS_INITRD

config QEMU_ROOTFS_MMC
     bool "MMC"

config QEMU_ROOTFS_INITRD
     bool "Initrd"

config QEMU_ROOTFS_VSCSI
     bool "Virtio SCSI"

endchoice

config QEMU_MACHINE
	string
	default "qemu-system-aarch64 -M virt -cpu cortex-a72 -m 256M"               if BR2_aarch64
	default "qemu-system-x86_64 -M q35,accel=kvm -cpu host -enable-kvm -m 256M" if BR2_x86_64

config QEMU_KERNEL
	string
	depends on QEMU_LOADER_KERNEL
	default "images/Image"   if BR2_aarch64
	default "images/bzImage" if BR2_x86_64

config QEMU_BIOS
	string
	depends on QEMU_LOADER_UBOOT
	default "images/u-boot.bin"

config QEMU_ROOTFS
	string
	default "images/mmc.img" if QEMU_ROOTFS_MMC
	default "images/rootfs.squashfs"

config QEMU_RW
	string "Writable layer"
	depends on !QEMU_ROOTFS_MMC
	default "images/cfg.ext4"

config QEMU_CONSOLE
	string
	depends on !QEMU_ROOTFS_MMC
	default "ttyAMA0" if BR2_aarch64
	default "ttyS0"   if BR2_x86_64

config QEMU_DTB_EXTEND
	string
	default "images/u-boot.dtb" if QEMU_LOADER_UBOOT

config QEMU_APPEND
	string "Extra kernel options"
	depends on !QEMU_ROOTFS_MMC

config QEMU_EXTRA
	string "Extra QEMU options"

comment "Networking"

choice
     prompt "Mode"
     default QEMU_NET_USER

config QEMU_NET_NONE
     bool "None"

config QEMU_NET_BRIDGE
     bool "Bridged"

config QEMU_NET_USER
     bool "User"

config QEMU_NET_TAP
     bool "TAP"

endchoice

config QEMU_NET_MODEL
	string "Interface model"
	default "virtio"

config QEMU_NET_BRIDGE_DEV
	string "Bridge device"
	depends on QEMU_NET_BRIDGE
	default "virbr0"

config QEMU_NET_USER_OPTS
	string "User mode options"
	depends on QEMU_NET_USER
	help
	  Extra -nic user,<OPTIONS>

config QEMU_NET_TAP_N
	int "Number of TAPs"
	depends on QEMU_NET_TAP
	default 1


